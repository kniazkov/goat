var t = $$()
{
    for (var i = 0; i < 10; i++)
        println(i);
    if (i == 5)
    {
        var r = Thread.current();
        r.kill();
    }    
};

var r = t.run();
while (r.works())
{
}
println("done");

/*

import "timer.goat";
import "atomic.goat";

var x = new Atomic(0);

var i = Timer.setInterval($()
{
    x.inc();
    println(x.get());
}, new Timer.Milliseconds(100));

println("the timer has been set");
println(i);

while(x.get() < 10)
{
}

i.stop();

*/
